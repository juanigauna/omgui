{
  "{\"assumptions\":{},\"sourceRoot\":\"/home/juan/Documentos/Projects/chatrandom/server/source/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/juan/Documentos/Projects/chatrandom/server\",\"filename\":\"/home/juan/Documentos/Projects/chatrandom/server/source/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/juan/Documentos/Projects/chatrandom/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"proposal-private-methods\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/juan/Documentos/Projects/chatrandom/server",
      "filename": "/home/juan/Documentos/Projects/chatrandom/server/source/index.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/home/juan/Documentos/Projects/chatrandom/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "proposal-private-methods",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/juan/Documentos/Projects/chatrandom/server/source/index.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/juan/Documentos/Projects/chatrandom/server/source/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _socket = _interopRequireDefault(require(\"socket.io\"));\n\nvar _http = _interopRequireDefault(require(\"http\"));\n\nvar _socketController = _interopRequireDefault(require(\"./controllers/socket-controller\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst express = (0, _express.default)();\n\nconst server = _http.default.createServer(express);\n\nexpress.use(_express.default.static(_path.default.join('public')));\nexpress.get('/', function (req, res) {\n  res.sendFile(_path.default.join('public', 'index.html'));\n});\nconst io = (0, _socket.default)(server, {\n  cors: {\n    origin: 'localhost:3000',\n    methods: [\"GET\", \"POST\"],\n    credentials: true\n  }\n});\nio.on('connection', socket => (0, _socketController.default)(io, socket));\nserver.listen(process.env.PORT, () => console.log('Listening port:', process.env.PORT));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJzZXJ2ZXIiLCJodHRwIiwiY3JlYXRlU2VydmVyIiwidXNlIiwiRXhwcmVzcyIsInN0YXRpYyIsInBhdGgiLCJqb2luIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZEZpbGUiLCJpbyIsImNvcnMiLCJvcmlnaW4iLCJtZXRob2RzIiwiY3JlZGVudGlhbHMiLCJvbiIsInNvY2tldCIsImxpc3RlbiIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7OztBQUVBLE1BQU1BLE9BQU8sR0FBRyx1QkFBaEI7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHQyxjQUFLQyxZQUFMLENBQWtCSCxPQUFsQixDQUFmOztBQUVBQSxPQUFPLENBQUNJLEdBQVIsQ0FBWUMsaUJBQVFDLE1BQVIsQ0FBZUMsY0FBS0MsSUFBTCxDQUFVLFFBQVYsQ0FBZixDQUFaO0FBRUFSLE9BQU8sQ0FBQ1MsR0FBUixDQUFZLEdBQVosRUFBaUIsVUFBVUMsR0FBVixFQUFlQyxHQUFmLEVBQW9CO0FBQ25DQSxFQUFBQSxHQUFHLENBQUNDLFFBQUosQ0FBYUwsY0FBS0MsSUFBTCxDQUFVLFFBQVYsRUFBb0IsWUFBcEIsQ0FBYjtBQUNELENBRkQ7QUFJQSxNQUFNSyxFQUFFLEdBQUcscUJBQU9aLE1BQVAsRUFBZTtBQUN0QmEsRUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLElBQUFBLE1BQU0sRUFBRSxnQkFETjtBQUVGQyxJQUFBQSxPQUFPLEVBQUUsQ0FBQyxLQUFELEVBQVEsTUFBUixDQUZQO0FBR0ZDLElBQUFBLFdBQVcsRUFBRTtBQUhYO0FBRGdCLENBQWYsQ0FBWDtBQVFBSixFQUFFLENBQUNLLEVBQUgsQ0FBTSxZQUFOLEVBQW9CQyxNQUFNLElBQUksK0JBQWlCTixFQUFqQixFQUFxQk0sTUFBckIsQ0FBOUI7QUFFQWxCLE1BQU0sQ0FBQ21CLE1BQVAsQ0FBY0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQTFCLEVBQWdDLE1BQU1DLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGlCQUFaLEVBQStCSixPQUFPLENBQUNDLEdBQVIsQ0FBWUMsSUFBM0MsQ0FBdEMiLCJzb3VyY2VSb290IjoiL2hvbWUvanVhbi9Eb2N1bWVudG9zL1Byb2plY3RzL2NoYXRyYW5kb20vc2VydmVyL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRXhwcmVzcyBmcm9tICdleHByZXNzJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcbmltcG9ydCBzb2NrZXQgZnJvbSAnc29ja2V0LmlvJ1xuaW1wb3J0IGh0dHAgZnJvbSAnaHR0cCdcblxuaW1wb3J0IHNvY2tldENvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVycy9zb2NrZXQtY29udHJvbGxlcidcblxuY29uc3QgZXhwcmVzcyA9IEV4cHJlc3MoKVxuY29uc3Qgc2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoZXhwcmVzcylcblxuZXhwcmVzcy51c2UoRXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKCdwdWJsaWMnKSkpO1xuXG5leHByZXNzLmdldCgnLycsIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICByZXMuc2VuZEZpbGUocGF0aC5qb2luKCdwdWJsaWMnLCAnaW5kZXguaHRtbCcpKTtcbn0pO1xuXG5jb25zdCBpbyA9IHNvY2tldChzZXJ2ZXIsIHtcbiAgICBjb3JzOiB7XG4gICAgICAgIG9yaWdpbjogJ2xvY2FsaG9zdDozMDAwJyxcbiAgICAgICAgbWV0aG9kczogW1wiR0VUXCIsIFwiUE9TVFwiXSxcbiAgICAgICAgY3JlZGVudGlhbHM6IHRydWVcbiAgICB9XG59KVxuXG5pby5vbignY29ubmVjdGlvbicsIHNvY2tldCA9PiBzb2NrZXRDb250cm9sbGVyKGlvLCBzb2NrZXQpKVxuXG5zZXJ2ZXIubGlzdGVuKHByb2Nlc3MuZW52LlBPUlQsICgpID0+IGNvbnNvbGUubG9nKCdMaXN0ZW5pbmcgcG9ydDonLCBwcm9jZXNzLmVudi5QT1JUKSkiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "express",
        "server",
        "http",
        "createServer",
        "use",
        "Express",
        "static",
        "path",
        "join",
        "get",
        "req",
        "res",
        "sendFile",
        "io",
        "cors",
        "origin",
        "methods",
        "credentials",
        "on",
        "socket",
        "listen",
        "process",
        "env",
        "PORT",
        "console",
        "log"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AAEA;;;;AAEA,MAAMA,OAAO,GAAG,uBAAhB;;AACA,MAAMC,MAAM,GAAGC,cAAKC,YAAL,CAAkBH,OAAlB,CAAf;;AAEAA,OAAO,CAACI,GAAR,CAAYC,iBAAQC,MAAR,CAAeC,cAAKC,IAAL,CAAU,QAAV,CAAf,CAAZ;AAEAR,OAAO,CAACS,GAAR,CAAY,GAAZ,EAAiB,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACnCA,EAAAA,GAAG,CAACC,QAAJ,CAAaL,cAAKC,IAAL,CAAU,QAAV,EAAoB,YAApB,CAAb;AACD,CAFD;AAIA,MAAMK,EAAE,GAAG,qBAAOZ,MAAP,EAAe;AACtBa,EAAAA,IAAI,EAAE;AACFC,IAAAA,MAAM,EAAE,gBADN;AAEFC,IAAAA,OAAO,EAAE,CAAC,KAAD,EAAQ,MAAR,CAFP;AAGFC,IAAAA,WAAW,EAAE;AAHX;AADgB,CAAf,CAAX;AAQAJ,EAAE,CAACK,EAAH,CAAM,YAAN,EAAoBC,MAAM,IAAI,+BAAiBN,EAAjB,EAAqBM,MAArB,CAA9B;AAEAlB,MAAM,CAACmB,MAAP,CAAcC,OAAO,CAACC,GAAR,CAAYC,IAA1B,EAAgC,MAAMC,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BJ,OAAO,CAACC,GAAR,CAAYC,IAA3C,CAAtC",
      "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/",
      "sourcesContent": [
        "import Express from 'express'\nimport path from 'path'\nimport socket from 'socket.io'\nimport http from 'http'\n\nimport socketController from './controllers/socket-controller'\n\nconst express = Express()\nconst server = http.createServer(express)\n\nexpress.use(Express.static(path.join('public')));\n\nexpress.get('/', function (req, res) {\n  res.sendFile(path.join('public', 'index.html'));\n});\n\nconst io = socket(server, {\n    cors: {\n        origin: 'localhost:3000',\n        methods: [\"GET\", \"POST\"],\n        credentials: true\n    }\n})\n\nio.on('connection', socket => socketController(io, socket))\n\nserver.listen(process.env.PORT, () => console.log('Listening port:', process.env.PORT))"
      ]
    },
    "sourceType": "script",
    "mtime": 1628214072783
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/home/juan/Documentos/Projects/chatrandom/server/source/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/juan/Documentos/Projects/chatrandom/server\",\"filename\":\"/home/juan/Documentos/Projects/chatrandom/server/source/controllers/socket-controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/juan/Documentos/Projects/chatrandom/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"proposal-private-methods\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/controllers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/juan/Documentos/Projects/chatrandom/server",
      "filename": "/home/juan/Documentos/Projects/chatrandom/server/source/controllers/socket-controller.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/home/juan/Documentos/Projects/chatrandom/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "proposal-private-methods",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/juan/Documentos/Projects/chatrandom/server/source/controllers/socket-controller.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/juan/Documentos/Projects/chatrandom/server/source/controllers/socket-controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/controllers/",
        "sourceFileName": "socket-controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _index = _interopRequireDefault(require(\"../database/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst db = new _index.default();\n\nfunction randomInt(min, max) {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nconst socketController = (io, socket) => {\n  io.emit('online-counter', db.updateCounter('plus'));\n  socket.on('nickname', nickname => {\n    const findUser = db.findUser(nickname);\n\n    if (!db.findUser(nickname)) {\n      db.addUser(nickname, socket.id);\n    }\n\n    socket.emit('nickname-response', {\n      success: !findUser\n    });\n    console.log(db.users);\n  });\n  socket.on('find-room', async nickname => {\n    // db.joinQueue(nickname)\n    await setTimeout(() => {\n      // const totalInQueue = db.queue.length%2 === 0 ? db.queue.length : db.queue.length-1\n      // const numberRooms = totalInQueue / 2\n      // for (let index = 1; index <= numberRooms; index++) {\n      //     db.createRoom()\n      // }\n      const findRoom = db.rooms.filter(room => room.participants.length < 2);\n      let room = {};\n\n      if (findRoom.length > 0) {\n        const randomIndex = randomInt(0, findRoom.length - 1);\n        room = findRoom[randomIndex];\n        db.addParticipantToRoom(room.id, nickname);\n        socket.to(room.id).emit('join', nickname);\n      } else {\n        room = db.createRoom(nickname);\n      }\n\n      db.setRoomIdToUser(nickname, room.id);\n      socket.join(room.id);\n      socket.emit('find-room-response', room);\n    }, 4000);\n  });\n  socket.on('new-message', data => {\n    socket.to(data.room).emit('new-message', {\n      nickname: data.nickname,\n      message: data.message\n    });\n  });\n  socket.on('disconnect', () => {\n    const user = db.getUser(socket.id);\n\n    if (user.roomId !== '') {\n      db.removeParticipantToRoom(user.roomId, user.nickname);\n      socket.to(user.roomId).emit('leave-mate');\n      db.removeUser(socket.id);\n    }\n\n    io.emit('online-counter', db.updateCounter('substract'));\n  });\n};\n\nvar _default = socketController;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvY2tldC1jb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImRiIiwiRGF0YUJhc2UiLCJyYW5kb21JbnQiLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzb2NrZXRDb250cm9sbGVyIiwiaW8iLCJzb2NrZXQiLCJlbWl0IiwidXBkYXRlQ291bnRlciIsIm9uIiwibmlja25hbWUiLCJmaW5kVXNlciIsImFkZFVzZXIiLCJpZCIsInN1Y2Nlc3MiLCJjb25zb2xlIiwibG9nIiwidXNlcnMiLCJzZXRUaW1lb3V0IiwiZmluZFJvb20iLCJyb29tcyIsImZpbHRlciIsInJvb20iLCJwYXJ0aWNpcGFudHMiLCJsZW5ndGgiLCJyYW5kb21JbmRleCIsImFkZFBhcnRpY2lwYW50VG9Sb29tIiwidG8iLCJjcmVhdGVSb29tIiwic2V0Um9vbUlkVG9Vc2VyIiwiam9pbiIsImRhdGEiLCJtZXNzYWdlIiwidXNlciIsImdldFVzZXIiLCJyb29tSWQiLCJyZW1vdmVQYXJ0aWNpcGFudFRvUm9vbSIsInJlbW92ZVVzZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLEVBQUUsR0FBRyxJQUFJQyxjQUFKLEVBQVg7O0FBRUEsU0FBU0MsU0FBVCxDQUFtQkMsR0FBbkIsRUFBd0JDLEdBQXhCLEVBQTZCO0FBQ3pCLFNBQU9DLElBQUksQ0FBQ0MsS0FBTCxDQUFXRCxJQUFJLENBQUNFLE1BQUwsTUFBaUJILEdBQUcsR0FBR0QsR0FBdkIsQ0FBWCxJQUEwQ0EsR0FBakQ7QUFDSDs7QUFFRCxNQUFNSyxnQkFBZ0IsR0FBRyxDQUFDQyxFQUFELEVBQUtDLE1BQUwsS0FBZ0I7QUFDckNELEVBQUFBLEVBQUUsQ0FBQ0UsSUFBSCxDQUFRLGdCQUFSLEVBQTBCWCxFQUFFLENBQUNZLGFBQUgsQ0FBaUIsTUFBakIsQ0FBMUI7QUFDQUYsRUFBQUEsTUFBTSxDQUFDRyxFQUFQLENBQVUsVUFBVixFQUFzQkMsUUFBUSxJQUFJO0FBQzlCLFVBQU1DLFFB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TSxDQUFDTyxFQUFyQjtBQUNIOztBQUNEUixJQUFBQSxFQUFFLENBQUNFLElBQUgsQ0FBUSxnQkFBUixFQUEwQlgsRUFBRSxDQUFDWSxhQUFILENBQWlCLFdBQWpCLENBQTFCO0FBQ0gsR0FSRDtBQVNILENBN0NEOztlQStDZUosZ0IiLCJzb3VyY2VSb290IjoiL2hvbWUvanVhbi9Eb2N1bWVudG9zL1Byb2plY3RzL2NoYXRyYW5kb20vc2VydmVyL3NvdXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGF0YUJhc2UgZnJvbSAnLi4vZGF0YWJhc2UvaW5kZXgnXG5cbmNvbnN0IGRiID0gbmV3IERhdGFCYXNlKClcblxuZnVuY3Rpb24gcmFuZG9tSW50KG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pblxufVxuXG5jb25zdCBzb2NrZXRDb250cm9sbGVyID0gKGlvLCBzb2NrZXQpID0+IHtcbiAgICBpby5lbWl0KCdvbmxpbmUtY291bnRlcicsIGRiLnVwZGF0ZUNvdW50ZXIoJ3BsdXMnKSlcbiAgICBzb2NrZXQub24oJ25pY2tuYW1lJywgbmlja25hbWUgPT4ge1xuICAgICAgICBjb25zdCBmaW5kVXNlciA9IGRiLmZpbmRVc2VyKG5pY2tuYW1lKVxuICAgICAgICBpZiAoIWRiLmZpbmRVc2VyKG5pY2tuYW1lKSkge1xuICAgICAgICAgICAgZGIuYWRkVXNlcihuaWNrbmFtZSwgc29ja2V0LmlkKVxuICAgICAgICB9XG4gICAgICAgIHNvY2tldC5lbWl0KCduaWNrbmFtZS1yZXNwb25zZScsIHsgc3VjY2VzczogIWZpbmRVc2VyIH0pXG4gICAgICAgIGNvbnNvbGUubG9nKGRiLnVzZXJzKVxuICAgIH0pXG4gICAgc29ja2V0Lm9uKCdmaW5kLXJvb20nLCBhc3luYyBuaWNrbmFtZSA9PiB7XG4gICAgICAgIC8vIGRiLmpvaW5RdWV1ZShuaWNrbmFtZSlcbiAgICAgICAgYXdhaXQgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBjb25zdCB0b3RhbEluUXVldWUgPSBkYi5xdWV1ZS5sZW5ndGglMiA9PT0gMCA/IGRiLnF1ZXVlLmxlbmd0aCA6IGRiLnF1ZXVlLmxlbmd0aC0xXG4gICAgICAgICAgICAvLyBjb25zdCBudW1iZXJSb29tcyA9IHRvdGFsSW5RdWV1ZSAvIDJcbiAgICAgICAgICAgIC8vIGZvciAobGV0IGluZGV4ID0gMTsgaW5kZXggPD0gbnVtYmVyUm9vbXM7IGluZGV4KyspIHtcbiAgICAgICAgICAgIC8vICAgICBkYi5jcmVhdGVSb29tKClcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIGNvbnN0IGZpbmRSb29tID0gZGIucm9vbXMuZmlsdGVyKHJvb20gPT4gcm9vbS5wYXJ0aWNpcGFudHMubGVuZ3RoIDwgMilcbiAgICAgICAgICAgIGxldCByb29tID0ge31cbiAgICAgICAgICAgIGlmIChmaW5kUm9vbS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZG9tSW5kZXggPSByYW5kb21JbnQoMCwgZmluZFJvb20ubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgICAgICByb29tID0gZmluZFJvb21bcmFuZG9tSW5kZXhdXG4gICAgICAgICAgICAgICAgZGIuYWRkUGFydGljaXBhbnRUb1Jvb20ocm9vbS5pZCwgbmlja25hbWUpXG4gICAgICAgICAgICAgICAgc29ja2V0LnRvKHJvb20uaWQpLmVtaXQoJ2pvaW4nLCBuaWNrbmFtZSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcm9vbSA9IGRiLmNyZWF0ZVJvb20obmlja25hbWUpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYi5zZXRSb29tSWRUb1VzZXIobmlja25hbWUsIHJvb20uaWQpXG4gICAgICAgICAgICBzb2NrZXQuam9pbihyb29tLmlkKVxuICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2ZpbmQtcm9vbS1yZXNwb25zZScsIHJvb20pXG4gICAgICAgIH0sIDQwMDApXG4gICAgfSlcbiAgICBzb2NrZXQub24oJ25ldy1tZXNzYWdlJywgZGF0YSA9PiB7XG4gICAgICAgIHNvY2tldC50byhkYXRhLnJvb20pLmVtaXQoJ25ldy1tZXNzYWdlJywgeyBuaWNrbmFtZTogZGF0YS5uaWNrbmFtZSwgbWVzc2FnZTogZGF0YS5tZXNzYWdlIH0pXG4gICAgfSlcbiAgICBzb2NrZXQub24oJ2Rpc2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBkYi5nZXRVc2VyKHNvY2tldC5pZClcbiAgICAgICAgaWYgKHVzZXIucm9vbUlkICE9PSAnJykge1xuICAgICAgICAgICAgZGIucmVtb3ZlUGFydGljaXBhbnRUb1Jvb20odXNlci5yb29tSWQsIHVzZXIubmlja25hbWUpXG4gICAgICAgICAgICBzb2NrZXQudG8odXNlci5yb29tSWQpLmVtaXQoJ2xlYXZlLW1hdGUnKVxuICAgICAgICAgICAgZGIucmVtb3ZlVXNlcihzb2NrZXQuaWQpXG4gICAgICAgIH1cbiAgICAgICAgaW8uZW1pdCgnb25saW5lLWNvdW50ZXInLCBkYi51cGRhdGVDb3VudGVyKCdzdWJzdHJhY3QnKSlcbiAgICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCBzb2NrZXRDb250cm9sbGVyIl19",
    "map": {
      "version": 3,
      "sources": [
        "socket-controller.js"
      ],
      "names": [
        "db",
        "DataBase",
        "randomInt",
        "min",
        "max",
        "Math",
        "floor",
        "random",
        "socketController",
        "io",
        "socket",
        "emit",
        "updateCounter",
        "on",
        "nickname",
        "findUser",
        "addUser",
        "id",
        "success",
        "console",
        "log",
        "users",
        "setTimeout",
        "findRoom",
        "rooms",
        "filter",
        "room",
        "participants",
        "length",
        "randomIndex",
        "addParticipantToRoom",
        "to",
        "createRoom",
        "setRoomIdToUser",
        "join",
        "data",
        "message",
        "user",
        "getUser",
        "roomId",
        "removeParticipantToRoom",
        "removeUser"
      ],
      "mappings": "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",
      "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/controllers/",
      "sourcesContent": [
        "import DataBase from '../database/index'\n\nconst db = new DataBase()\n\nfunction randomInt(min, max) {\n    return Math.floor(Math.random() * (max - min)) + min\n}\n\nconst socketController = (io, socket) => {\n    io.emit('online-counter', db.updateCounter('plus'))\n    socket.on('nickname', nickname => {\n        const findUser = db.findUser(nickname)\n        if (!db.findUser(nickname)) {\n            db.addUser(nickname, socket.id)\n        }\n        socket.emit('nickname-response', { success: !findUser })\n        console.log(db.users)\n    })\n    socket.on('find-room', async nickname => {\n        // db.joinQueue(nickname)\n        await setTimeout(() => {\n            // const totalInQueue = db.queue.length%2 === 0 ? db.queue.length : db.queue.length-1\n            // const numberRooms = totalInQueue / 2\n            // for (let index = 1; index <= numberRooms; index++) {\n            //     db.createRoom()\n            // }\n            const findRoom = db.rooms.filter(room => room.participants.length < 2)\n            let room = {}\n            if (findRoom.length > 0) {\n                const randomIndex = randomInt(0, findRoom.length - 1)\n                room = findRoom[randomIndex]\n                db.addParticipantToRoom(room.id, nickname)\n                socket.to(room.id).emit('join', nickname)\n            } else {\n                room = db.createRoom(nickname)\n            }\n            db.setRoomIdToUser(nickname, room.id)\n            socket.join(room.id)\n            socket.emit('find-room-response', room)\n        }, 4000)\n    })\n    socket.on('new-message', data => {\n        socket.to(data.room).emit('new-message', { nickname: data.nickname, message: data.message })\n    })\n    socket.on('disconnect', () => {\n        const user = db.getUser(socket.id)\n        if (user.roomId !== '') {\n            db.removeParticipantToRoom(user.roomId, user.nickname)\n            socket.to(user.roomId).emit('leave-mate')\n            db.removeUser(socket.id)\n        }\n        io.emit('online-counter', db.updateCounter('substract'))\n    })\n}\n\nexport default socketController"
      ]
    },
    "sourceType": "script",
    "mtime": 1628204151693
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/home/juan/Documentos/Projects/chatrandom/server/source/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/juan/Documentos/Projects/chatrandom/server\",\"filename\":\"/home/juan/Documentos/Projects/chatrandom/server/source/controllers/socket-controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/juan/Documentos/Projects/chatrandom/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"proposal-private-methods\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/controllers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/juan/Documentos/Projects/chatrandom/server",
      "filename": "/home/juan/Documentos/Projects/chatrandom/server/source/controllers/socket-controller.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/home/juan/Documentos/Projects/chatrandom/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "proposal-private-methods",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/juan/Documentos/Projects/chatrandom/server/source/controllers/socket-controller.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/juan/Documentos/Projects/chatrandom/server/source/controllers/socket-controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/controllers/",
        "sourceFileName": "socket-controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _index = _interopRequireDefault(require(\"../database/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst db = new _index.default();\n\nfunction randomInt(min, max) {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nconst socketController = (io, socket) => {\n  io.emit('online-counter', db.updateCounter('plus'));\n  socket.on('nickname', nickname => {\n    const findUser = db.findUser(nickname);\n\n    if (!db.findUser(nickname)) {\n      db.addUser(nickname, socket.id);\n    }\n\n    socket.emit('nickname-response', {\n      success: !findUser\n    });\n    console.log(db.users);\n  });\n  socket.on('find-room', async nickname => {\n    // db.joinQueue(nickname)\n    await setTimeout(() => {\n      // const totalInQueue = db.queue.length%2 === 0 ? db.queue.length : db.queue.length-1\n      // const numberRooms = totalInQueue / 2\n      // for (let index = 1; index <= numberRooms; index++) {\n      //     db.createRoom()\n      // }\n      const findRoom = db.rooms.filter(room => room.participants.length < 2);\n      let room = {};\n\n      if (findRoom.length > 0) {\n        const randomIndex = randomInt(0, findRoom.length - 1);\n        room = findRoom[randomIndex];\n        db.addParticipantToRoom(room.id, nickname);\n        socket.to(room.id).emit('join', nickname);\n      } else {\n        room = db.createRoom(nickname);\n      }\n\n      db.setRoomIdToUser(nickname, room.id);\n      socket.join(room.id);\n      socket.emit('find-room-response', room);\n    }, 4000);\n  });\n  socket.on('new-message', data => {\n    socket.to(data.room).emit('new-message', {\n      nickname: data.nickname,\n      message: data.message\n    });\n  });\n  socket.on('disconnect', () => {\n    const user = db.getUser(socket.id);\n\n    if (user.roomId !== '') {\n      db.removeParticipantToRoom(user.roomId, user.nickname);\n      socket.to(user.roomId).emit('leave-mate');\n      db.removeUser(socket.id);\n    }\n\n    io.emit('online-counter', db.updateCounter('substract'));\n  });\n};\n\nvar _default = socketController;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvY2tldC1jb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImRiIiwiRGF0YUJhc2UiLCJyYW5kb21JbnQiLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzb2NrZXRDb250cm9sbGVyIiwiaW8iLCJzb2NrZXQiLCJlbWl0IiwidXBkYXRlQ291bnRlciIsIm9uIiwibmlja25hbWUiLCJmaW5kVXNlciIsImFkZFVzZXIiLCJpZCIsInN1Y2Nlc3MiLCJjb25zb2xlIiwibG9nIiwidXNlcnMiLCJzZXRUaW1lb3V0IiwiZmluZFJvb20iLCJyb29tcyIsImZpbHRlciIsInJvb20iLCJwYXJ0aWNpcGFudHMiLCJsZW5ndGgiLCJyYW5kb21JbmRleCIsImFkZFBhcnRpY2lwYW50VG9Sb29tIiwidG8iLCJjcmVhdGVSb29tIiwic2V0Um9vbUlkVG9Vc2VyIiwiam9pbiIsImRhdGEiLCJtZXNzYWdlIiwidXNlciIsImdldFVzZXIiLCJyb29tSWQiLCJyZW1vdmVQYXJ0aWNpcGFudFRvUm9vbSIsInJlbW92ZVVzZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLEVBQUUsR0FBRyxJQUFJQyxjQUFKLEVBQVg7O0FBRUEsU0FBU0MsU0FBVCxDQUFtQkMsR0FBbkIsRUFBd0JDLEdBQXhCLEVBQTZCO0FBQ3pCLFNBQU9DLElBQUksQ0FBQ0MsS0FBTCxDQUFXRCxJQUFJLENBQUNFLE1BQUwsTUFBaUJILEdBQUcsR0FBR0QsR0FBdkIsQ0FBWCxJQUEwQ0EsR0FBakQ7QUFDSDs7QUFFRCxNQUFNSyxnQkFBZ0IsR0FBRyxDQUFDQyxFQUFELEVBQUtDLE1BQUwsS0FBZ0I7QUFDckNELEVBQUFBLEVBQUUsQ0FBQ0UsSUFBSCxDQUFRLGdCQUFSLEVBQTBCWCxFQUFFLENBQUNZLGFBQUgsQ0FBaUIsTUFBakIsQ0FBMUI7QUFDQUYsRUFBQUEsTUFBTSxDQUFDRyxFQUFQLENBQVUsVUFBVixFQUFzQkMsUUFBUSxJQUFJO0FBQzlCLFVBQU1DLFFB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TSxDQUFDTyxFQUFyQjtBQUNIOztBQUNEUixJQUFBQSxFQUFFLENBQUNFLElBQUgsQ0FBUSxnQkFBUixFQUEwQlgsRUFBRSxDQUFDWSxhQUFILENBQWlCLFdBQWpCLENBQTFCO0FBQ0gsR0FSRDtBQVNILENBN0NEOztlQStDZUosZ0IiLCJzb3VyY2VSb290IjoiL2hvbWUvanVhbi9Eb2N1bWVudG9zL1Byb2plY3RzL2NoYXRyYW5kb20vc2VydmVyL3NvdXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGF0YUJhc2UgZnJvbSAnLi4vZGF0YWJhc2UvaW5kZXgnXG5cbmNvbnN0IGRiID0gbmV3IERhdGFCYXNlKClcblxuZnVuY3Rpb24gcmFuZG9tSW50KG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pblxufVxuXG5jb25zdCBzb2NrZXRDb250cm9sbGVyID0gKGlvLCBzb2NrZXQpID0+IHtcbiAgICBpby5lbWl0KCdvbmxpbmUtY291bnRlcicsIGRiLnVwZGF0ZUNvdW50ZXIoJ3BsdXMnKSlcbiAgICBzb2NrZXQub24oJ25pY2tuYW1lJywgbmlja25hbWUgPT4ge1xuICAgICAgICBjb25zdCBmaW5kVXNlciA9IGRiLmZpbmRVc2VyKG5pY2tuYW1lKVxuICAgICAgICBpZiAoIWRiLmZpbmRVc2VyKG5pY2tuYW1lKSkge1xuICAgICAgICAgICAgZGIuYWRkVXNlcihuaWNrbmFtZSwgc29ja2V0LmlkKVxuICAgICAgICB9XG4gICAgICAgIHNvY2tldC5lbWl0KCduaWNrbmFtZS1yZXNwb25zZScsIHsgc3VjY2VzczogIWZpbmRVc2VyIH0pXG4gICAgICAgIGNvbnNvbGUubG9nKGRiLnVzZXJzKVxuICAgIH0pXG4gICAgc29ja2V0Lm9uKCdmaW5kLXJvb20nLCBhc3luYyBuaWNrbmFtZSA9PiB7XG4gICAgICAgIC8vIGRiLmpvaW5RdWV1ZShuaWNrbmFtZSlcbiAgICAgICAgYXdhaXQgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBjb25zdCB0b3RhbEluUXVldWUgPSBkYi5xdWV1ZS5sZW5ndGglMiA9PT0gMCA/IGRiLnF1ZXVlLmxlbmd0aCA6IGRiLnF1ZXVlLmxlbmd0aC0xXG4gICAgICAgICAgICAvLyBjb25zdCBudW1iZXJSb29tcyA9IHRvdGFsSW5RdWV1ZSAvIDJcbiAgICAgICAgICAgIC8vIGZvciAobGV0IGluZGV4ID0gMTsgaW5kZXggPD0gbnVtYmVyUm9vbXM7IGluZGV4KyspIHtcbiAgICAgICAgICAgIC8vICAgICBkYi5jcmVhdGVSb29tKClcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIGNvbnN0IGZpbmRSb29tID0gZGIucm9vbXMuZmlsdGVyKHJvb20gPT4gcm9vbS5wYXJ0aWNpcGFudHMubGVuZ3RoIDwgMilcbiAgICAgICAgICAgIGxldCByb29tID0ge31cbiAgICAgICAgICAgIGlmIChmaW5kUm9vbS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZG9tSW5kZXggPSByYW5kb21JbnQoMCwgZmluZFJvb20ubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgICAgICByb29tID0gZmluZFJvb21bcmFuZG9tSW5kZXhdXG4gICAgICAgICAgICAgICAgZGIuYWRkUGFydGljaXBhbnRUb1Jvb20ocm9vbS5pZCwgbmlja25hbWUpXG4gICAgICAgICAgICAgICAgc29ja2V0LnRvKHJvb20uaWQpLmVtaXQoJ2pvaW4nLCBuaWNrbmFtZSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcm9vbSA9IGRiLmNyZWF0ZVJvb20obmlja25hbWUpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYi5zZXRSb29tSWRUb1VzZXIobmlja25hbWUsIHJvb20uaWQpXG4gICAgICAgICAgICBzb2NrZXQuam9pbihyb29tLmlkKVxuICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2ZpbmQtcm9vbS1yZXNwb25zZScsIHJvb20pXG4gICAgICAgIH0sIDQwMDApXG4gICAgfSlcbiAgICBzb2NrZXQub24oJ25ldy1tZXNzYWdlJywgZGF0YSA9PiB7XG4gICAgICAgIHNvY2tldC50byhkYXRhLnJvb20pLmVtaXQoJ25ldy1tZXNzYWdlJywgeyBuaWNrbmFtZTogZGF0YS5uaWNrbmFtZSwgbWVzc2FnZTogZGF0YS5tZXNzYWdlIH0pXG4gICAgfSlcbiAgICBzb2NrZXQub24oJ2Rpc2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBkYi5nZXRVc2VyKHNvY2tldC5pZClcbiAgICAgICAgaWYgKHVzZXIucm9vbUlkICE9PSAnJykge1xuICAgICAgICAgICAgZGIucmVtb3ZlUGFydGljaXBhbnRUb1Jvb20odXNlci5yb29tSWQsIHVzZXIubmlja25hbWUpXG4gICAgICAgICAgICBzb2NrZXQudG8odXNlci5yb29tSWQpLmVtaXQoJ2xlYXZlLW1hdGUnKVxuICAgICAgICAgICAgZGIucmVtb3ZlVXNlcihzb2NrZXQuaWQpXG4gICAgICAgIH1cbiAgICAgICAgaW8uZW1pdCgnb25saW5lLWNvdW50ZXInLCBkYi51cGRhdGVDb3VudGVyKCdzdWJzdHJhY3QnKSlcbiAgICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCBzb2NrZXRDb250cm9sbGVyIl19",
    "map": {
      "version": 3,
      "sources": [
        "socket-controller.js"
      ],
      "names": [
        "db",
        "DataBase",
        "randomInt",
        "min",
        "max",
        "Math",
        "floor",
        "random",
        "socketController",
        "io",
        "socket",
        "emit",
        "updateCounter",
        "on",
        "nickname",
        "findUser",
        "addUser",
        "id",
        "success",
        "console",
        "log",
        "users",
        "setTimeout",
        "findRoom",
        "rooms",
        "filter",
        "room",
        "participants",
        "length",
        "randomIndex",
        "addParticipantToRoom",
        "to",
        "createRoom",
        "setRoomIdToUser",
        "join",
        "data",
        "message",
        "user",
        "getUser",
        "roomId",
        "removeParticipantToRoom",
        "removeUser"
      ],
      "mappings": "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",
      "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/controllers/",
      "sourcesContent": [
        "import DataBase from '../database/index'\n\nconst db = new DataBase()\n\nfunction randomInt(min, max) {\n    return Math.floor(Math.random() * (max - min)) + min\n}\n\nconst socketController = (io, socket) => {\n    io.emit('online-counter', db.updateCounter('plus'))\n    socket.on('nickname', nickname => {\n        const findUser = db.findUser(nickname)\n        if (!db.findUser(nickname)) {\n            db.addUser(nickname, socket.id)\n        }\n        socket.emit('nickname-response', { success: !findUser })\n        console.log(db.users)\n    })\n    socket.on('find-room', async nickname => {\n        // db.joinQueue(nickname)\n        await setTimeout(() => {\n            // const totalInQueue = db.queue.length%2 === 0 ? db.queue.length : db.queue.length-1\n            // const numberRooms = totalInQueue / 2\n            // for (let index = 1; index <= numberRooms; index++) {\n            //     db.createRoom()\n            // }\n            const findRoom = db.rooms.filter(room => room.participants.length < 2)\n            let room = {}\n            if (findRoom.length > 0) {\n                const randomIndex = randomInt(0, findRoom.length - 1)\n                room = findRoom[randomIndex]\n                db.addParticipantToRoom(room.id, nickname)\n                socket.to(room.id).emit('join', nickname)\n            } else {\n                room = db.createRoom(nickname)\n            }\n            db.setRoomIdToUser(nickname, room.id)\n            socket.join(room.id)\n            socket.emit('find-room-response', room)\n        }, 4000)\n    })\n    socket.on('new-message', data => {\n        socket.to(data.room).emit('new-message', { nickname: data.nickname, message: data.message })\n    })\n    socket.on('disconnect', () => {\n        const user = db.getUser(socket.id)\n        if (user.roomId !== '') {\n            db.removeParticipantToRoom(user.roomId, user.nickname)\n            socket.to(user.roomId).emit('leave-mate')\n            db.removeUser(socket.id)\n        }\n        io.emit('online-counter', db.updateCounter('substract'))\n    })\n}\n\nexport default socketController"
      ]
    },
    "sourceType": "script",
    "mtime": 1628204151693
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/home/juan/Documentos/Projects/chatrandom/server/source/database/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/juan/Documentos/Projects/chatrandom/server\",\"filename\":\"/home/juan/Documentos/Projects/chatrandom/server/source/database/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/juan/Documentos/Projects/chatrandom/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"proposal-private-methods\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/database/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/juan/Documentos/Projects/chatrandom/server",
      "filename": "/home/juan/Documentos/Projects/chatrandom/server/source/database/index.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/home/juan/Documentos/Projects/chatrandom/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "proposal-private-methods",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/juan/Documentos/Projects/chatrandom/server/source/database/index.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/juan/Documentos/Projects/chatrandom/server/source/database/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/database/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _uuid = require(\"uuid\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass DataBase {\n  constructor() {\n    if (!!DataBase.instance) {\n      return DataBase.instance;\n    }\n\n    this.onlineCounter = 0;\n    this.users = [];\n    this.rooms = [];\n    this.queue = [];\n    DataBase.instance = this;\n  }\n\n  findUser(nickname) {\n    const findUser = this.users.filter(value => value.nickname === nickname);\n    return findUser.length === 0 ? false : true;\n  }\n\n  addUser(nickname, socketId) {\n    this.users.push({\n      nickname,\n      socketId,\n      roomId: ''\n    });\n  }\n\n  getUser(socketId) {\n    const findUser = this.users.filter(value => value.socketId === socketId);\n    return findUser.length === 0 ? false : findUser[0];\n  }\n\n  setRoomIdToUser(nickname, roomId) {\n    this.users.forEach((user, index) => {\n      if (user.nickname === nickname) {\n        this.users[index].roomId = roomId;\n      }\n    });\n  }\n\n  removeUser(socketId) {\n    this.users.filter((user, index) => {\n      if (user.socketId === socketId) {\n        this.users.splice(index, 1);\n      }\n    });\n  }\n\n  joinQueue(nickname) {\n    this.queue.push(nickname);\n  }\n\n  createRoom(nickname) {\n    const structure = {\n      id: (0, _uuid.v4)(),\n      participants: [nickname]\n    };\n    this.rooms.push(structure);\n    return structure;\n  }\n\n  addParticipantToRoom(roomId, nickname) {\n    this.rooms.forEach((room, index) => {\n      if (room.id === roomId) {\n        this.rooms[index].participants.push(nickname);\n      }\n    });\n  }\n\n  removeParticipantToRoom(roomId, nickname) {\n    const roomIndex = this.rooms.findIndex(room => room.id === roomId);\n\n    if (roomIndex !== -1) {\n      const userIndex = this.rooms[roomIndex].participants.findIndex(user => user === nickname);\n      this.rooms[roomIndex].participants.splice(userIndex, 1);\n    }\n  }\n\n  updateCounter(action) {\n    action === 'plus' ? this.onlineCounter += 1 : this.onlineCounter -= 1;\n    return this.onlineCounter;\n  }\n\n}\n\n_defineProperty(DataBase, \"instance\", void 0);\n\nvar _default = DataBase;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkRhdGFCYXNlIiwiY29uc3RydWN0b3IiLCJpbnN0YW5jZSIsIm9ubGluZUNvdW50ZXIiLCJ1c2VycyIsInJvb21zIiwicXVldWUiLCJmaW5kVXNlciIsIm5pY2tuYW1lIiwiZmlsdGVyIiwidmFsdWUiLCJsZW5ndGgiLCJhZGRVc2VyIiwic29ja2V0SWQiLCJwdXNoIiwicm9vbUlkIiwiZ2V0VXNlciIsInNldFJvb21JZFRvVXNlciIsImZvckVhY2giLCJ1c2VyIiwiaW5kZXgiLCJyZW1vdmVVc2VyIiwic3BsaWNlIiwiam9pblF1ZXVlIiwiY3JlYXRlUm9vbSIsInN0cnVjdHVyZSIsImlkIiwicGFydGljaXBhbnRzIiwiYWRkUGFydGljaXBhbnRUb1Jvb20iLCJyb29tIiwicmVtb3ZlUGFydGljaXBhbnRUb1Jvb20iLCJyb29tSW5kZXgiLCJmaW5kSW5kZXgiLCJ1c2VySW5kZXgiLCJ1cGRhdGVDb3VudGVyIiwiYWN0aW9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNQSxRQUFOLENBQWU7QUFFWEMsRUFBQUEsV0FBVyxHQUFHO0FBQ1YsUUFBSSxDQUFDLENBQUNELFFBQVEsQ0FBQ0UsUUFBZixFQUF5QjtBQUNyQixhQUFPRixRQUFRLENBQUNFLFFBQWhCO0FBQ0g7O0FBQ0QsU0FBS0MsYUFBTCxHQUFxQixDQUFyQjtBQUNBLFNBQUtDLEtBQUwsR0FBYSxFQUFiO0FBQ0EsU0FBS0MsS0FBTCxHQUFhLEVBQWI7QUFDQSxTQUFLQyxLQUFMLEdBQWEsRUFBYjtBQUNBTixJQUFBQSxRQUFRLENBQUNFLFFBQVQsR0FBb0IsSUFBcEI7QUFDSDs7QUFDREssRUFBQUEsUUFBUSxDQUFDQyxRQUFELEVBQVc7QUFDZixVQUFNRCxRQUFRLEdBQUcsS0FBS0gsS0FBTCxDQUFXSyxNQUFYLENBQWtCQyxLQUFLLElBQUlBLEtBQUssQ0FBQ0YsUUFBTixLQUFtQkEsUUFBOUMsQ0FBakI7QUFDQSxXQUFPRCxRQUFR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RUFBUztBQUNsQkEsSUFBQUEsTUFBTSxLQUFLLE1BQVgsR0FBb0IsS0FBS2hDLGFBQUwsSUFBc0IsQ0FBMUMsR0FBOEMsS0FBS0EsYUFBTCxJQUFxQixDQUFuRTtBQUNBLFdBQU8sS0FBS0EsYUFBWjtBQUNIOztBQXRFVTs7Z0JBQVRILFE7O2VBeUVTQSxRIiwic291cmNlUm9vdCI6Ii9ob21lL2p1YW4vRG9jdW1lbnRvcy9Qcm9qZWN0cy9jaGF0cmFuZG9tL3NlcnZlci9zb3VyY2UvZGF0YWJhc2UvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdjQgYXMgZ2VuZXJhdGVJZCB9IGZyb20gJ3V1aWQnXG5cbmNsYXNzIERhdGFCYXNlIHtcbiAgICBzdGF0aWMgaW5zdGFuY2VcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgaWYgKCEhRGF0YUJhc2UuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBEYXRhQmFzZS5pbnN0YW5jZVxuICAgICAgICB9XG4gICAgICAgIHRoaXMub25saW5lQ291bnRlciA9IDBcbiAgICAgICAgdGhpcy51c2VycyA9IFtdXG4gICAgICAgIHRoaXMucm9vbXMgPSBbXVxuICAgICAgICB0aGlzLnF1ZXVlID0gW11cbiAgICAgICAgRGF0YUJhc2UuaW5zdGFuY2UgPSB0aGlzXG4gICAgfVxuICAgIGZpbmRVc2VyKG5pY2tuYW1lKSB7XG4gICAgICAgIGNvbnN0IGZpbmRVc2VyID0gdGhpcy51c2Vycy5maWx0ZXIodmFsdWUgPT4gdmFsdWUubmlja25hbWUgPT09IG5pY2tuYW1lKVxuICAgICAgICByZXR1cm4gZmluZFVzZXIubGVuZ3RoID09PSAwID8gZmFsc2UgOiB0cnVlXG4gICAgfVxuICAgIGFkZFVzZXIobmlja25hbWUsIHNvY2tldElkKSB7XG4gICAgICAgIHRoaXMudXNlcnMucHVzaCh7XG4gICAgICAgICAgICBuaWNrbmFtZSxcbiAgICAgICAgICAgIHNvY2tldElkLFxuICAgICAgICAgICAgcm9vbUlkOiAnJ1xuICAgICAgICB9KVxuICAgIH1cbiAgICBnZXRVc2VyKHNvY2tldElkKSB7XG4gICAgICAgIGNvbnN0IGZpbmRVc2VyID0gdGhpcy51c2Vycy5maWx0ZXIodmFsdWUgPT4gdmFsdWUuc29ja2V0SWQgPT09IHNvY2tldElkKVxuICAgICAgICByZXR1cm4gZmluZFVzZXIubGVuZ3RoID09PSAwID8gZmFsc2UgOiBmaW5kVXNlclswXVxuICAgIH1cbiAgICBzZXRSb29tSWRUb1VzZXIobmlja25hbWUsIHJvb21JZCkge1xuICAgICAgICB0aGlzLnVzZXJzLmZvckVhY2goKHVzZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAodXNlci5uaWNrbmFtZSA9PT0gbmlja25hbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJzW2luZGV4XS5yb29tSWQgPSByb29tSWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkgICAgICAgIFxuICAgIH1cbiAgICByZW1vdmVVc2VyKHNvY2tldElkKSB7XG4gICAgICAgIHRoaXMudXNlcnMuZmlsdGVyKCh1c2VyLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKHVzZXIuc29ja2V0SWQgPT09IHNvY2tldElkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51c2Vycy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuICAgIGpvaW5RdWV1ZShuaWNrbmFtZSkge1xuICAgICAgICB0aGlzLnF1ZXVlLnB1c2gobmlja25hbWUpXG4gICAgfVxuICAgIGNyZWF0ZVJvb20obmlja25hbWUpIHtcbiAgICAgICAgY29uc3Qgc3RydWN0dXJlID0ge1xuICAgICAgICAgICAgaWQ6IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICAgIHBhcnRpY2lwYW50czogW25pY2tuYW1lXVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucm9vbXMucHVzaChzdHJ1Y3R1cmUpXG4gICAgICAgIHJldHVybiBzdHJ1Y3R1cmVcbiAgICB9XG4gICAgYWRkUGFydGljaXBhbnRUb1Jvb20ocm9vbUlkLCBuaWNrbmFtZSkge1xuICAgICAgICB0aGlzLnJvb21zLmZvckVhY2goKHJvb20sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAocm9vbS5pZCA9PT0gcm9vbUlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb29tc1tpbmRleF0ucGFydGljaXBhbnRzLnB1c2gobmlja25hbWUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pICAgIFxuICAgIH1cbiAgICByZW1vdmVQYXJ0aWNpcGFudFRvUm9vbShyb29tSWQsIG5pY2tuYW1lKSB7XG4gICAgICAgIGNvbnN0IHJvb21JbmRleCA9IHRoaXMucm9vbXMuZmluZEluZGV4KHJvb20gPT4gcm9vbS5pZCA9PT0gcm9vbUlkKVxuICAgICAgICBpZiAocm9vbUluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgY29uc3QgdXNlckluZGV4ID0gdGhpcy5yb29tc1tyb29tSW5kZXhdLnBhcnRpY2lwYW50cy5maW5kSW5kZXgodXNlciA9PiB1c2VyID09PSBuaWNrbmFtZSlcbiAgICAgICAgICAgIHRoaXMucm9vbXNbcm9vbUluZGV4XS5wYXJ0aWNpcGFudHMuc3BsaWNlKHVzZXJJbmRleCwgMSlcbiAgICAgICAgfVxuXG4gICAgfVxuICAgIHVwZGF0ZUNvdW50ZXIoYWN0aW9uKSB7XG4gICAgICAgIGFjdGlvbiA9PT0gJ3BsdXMnID8gdGhpcy5vbmxpbmVDb3VudGVyICs9IDEgOiB0aGlzLm9ubGluZUNvdW50ZXIgLT0xXG4gICAgICAgIHJldHVybiB0aGlzLm9ubGluZUNvdW50ZXJcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERhdGFCYXNlIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "DataBase",
        "constructor",
        "instance",
        "onlineCounter",
        "users",
        "rooms",
        "queue",
        "findUser",
        "nickname",
        "filter",
        "value",
        "length",
        "addUser",
        "socketId",
        "push",
        "roomId",
        "getUser",
        "setRoomIdToUser",
        "forEach",
        "user",
        "index",
        "removeUser",
        "splice",
        "joinQueue",
        "createRoom",
        "structure",
        "id",
        "participants",
        "addParticipantToRoom",
        "room",
        "removeParticipantToRoom",
        "roomIndex",
        "findIndex",
        "userIndex",
        "updateCounter",
        "action"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,QAAN,CAAe;AAEXC,EAAAA,WAAW,GAAG;AACV,QAAI,CAAC,CAACD,QAAQ,CAACE,QAAf,EAAyB;AACrB,aAAOF,QAAQ,CAACE,QAAhB;AACH;;AACD,SAAKC,aAAL,GAAqB,CAArB;AACA,SAAKC,KAAL,GAAa,EAAb;AACA,SAAKC,KAAL,GAAa,EAAb;AACA,SAAKC,KAAL,GAAa,EAAb;AACAN,IAAAA,QAAQ,CAACE,QAAT,GAAoB,IAApB;AACH;;AACDK,EAAAA,QAAQ,CAACC,QAAD,EAAW;AACf,UAAMD,QAAQ,GAAG,KAAKH,KAAL,CAAWK,MAAX,CAAkBC,KAAK,IAAIA,KAAK,CAACF,QAAN,KAAmBA,QAA9C,CAAjB;AACA,WAAOD,QAAQ,CAACI,MAAT,KAAoB,CAApB,GAAwB,KAAxB,GAAgC,IAAvC;AACH;;AACDC,EAAAA,OAAO,CAACJ,QAAD,EAAWK,QAAX,EAAqB;AACxB,SAAKT,KAAL,CAAWU,IAAX,CAAgB;AACZN,MAAAA,QADY;AAEZK,MAAAA,QAFY;AAGZE,MAAAA,MAAM,EAAE;AAHI,KAAhB;AAKH;;AACDC,EAAAA,OAAO,CAACH,QAAD,EAAW;AACd,UAAMN,QAAQ,GAAG,KAAKH,KAAL,CAAWK,MAAX,CAAkBC,KAAK,IAAIA,KAAK,CAACG,QAAN,KAAmBA,QAA9C,CAAjB;AACA,WAAON,QAAQ,CAACI,MAAT,KAAoB,CAApB,GAAwB,KAAxB,GAAgCJ,QAAQ,CAAC,CAAD,CAA/C;AACH;;AACDU,EAAAA,eAAe,CAACT,QAAD,EAAWO,MAAX,EAAmB;AAC9B,SAAKX,KAAL,CAAWc,OAAX,CAAmB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAChC,UAAID,IAAI,CAACX,QAAL,KAAkBA,QAAtB,EAAgC;AAC5B,aAAKJ,KAAL,CAAWgB,KAAX,EAAkBL,MAAlB,GAA2BA,MAA3B;AACH;AACJ,KAJD;AAKH;;AACDM,EAAAA,UAAU,CAACR,QAAD,EAAW;AACjB,SAAKT,KAAL,CAAWK,MAAX,CAAkB,CAACU,IAAD,EAAOC,KAAP,KAAiB;AAC/B,UAAID,IAAI,CAACN,QAAL,KAAkBA,QAAtB,EAAgC;AAC5B,aAAKT,KAAL,CAAWkB,MAAX,CAAkBF,KAAlB,EAAyB,CAAzB;AACH;AACJ,KAJD;AAKH;;AACDG,EAAAA,SAAS,CAACf,QAAD,EAAW;AAChB,SAAKF,KAAL,CAAWQ,IAAX,CAAgBN,QAAhB;AACH;;AACDgB,EAAAA,UAAU,CAAChB,QAAD,EAAW;AACjB,UAAMiB,SAAS,GAAG;AACdC,MAAAA,EAAE,EAAE,eADU;AAEdC,MAAAA,YAAY,EAAE,CAACnB,QAAD;AAFA,KAAlB;AAIA,SAAKH,KAAL,CAAWS,IAAX,CAAgBW,SAAhB;AACA,WAAOA,SAAP;AACH;;AACDG,EAAAA,oBAAoB,CAACb,MAAD,EAASP,QAAT,EAAmB;AACnC,SAAKH,KAAL,CAAWa,OAAX,CAAmB,CAACW,IAAD,EAAOT,KAAP,KAAiB;AAChC,UAAIS,IAAI,CAACH,EAAL,KAAYX,MAAhB,EAAwB;AACpB,aAAKV,KAAL,CAAWe,KAAX,EAAkBO,YAAlB,CAA+Bb,IAA/B,CAAoCN,QAApC;AACH;AACJ,KAJD;AAKH;;AACDsB,EAAAA,uBAAuB,CAACf,MAAD,EAASP,QAAT,EAAmB;AACtC,UAAMuB,SAAS,GAAG,KAAK1B,KAAL,CAAW2B,SAAX,CAAqBH,IAAI,IAAIA,IAAI,CAACH,EAAL,KAAYX,MAAzC,CAAlB;;AACA,QAAIgB,SAAS,KAAK,CAAC,CAAnB,EAAsB;AAClB,YAAME,SAAS,GAAG,KAAK5B,KAAL,CAAW0B,SAAX,EAAsBJ,YAAtB,CAAmCK,SAAnC,CAA6Cb,IAAI,IAAIA,IAAI,KAAKX,QAA9D,CAAlB;AACA,WAAKH,KAAL,CAAW0B,SAAX,EAAsBJ,YAAtB,CAAmCL,MAAnC,CAA0CW,SAA1C,EAAqD,CAArD;AACH;AAEJ;;AACDC,EAAAA,aAAa,CAACC,MAAD,EAAS;AAClBA,IAAAA,MAAM,KAAK,MAAX,GAAoB,KAAKhC,aAAL,IAAsB,CAA1C,GAA8C,KAAKA,aAAL,IAAqB,CAAnE;AACA,WAAO,KAAKA,aAAZ;AACH;;AAtEU;;gBAATH,Q;;eAyESA,Q",
      "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/database/",
      "sourcesContent": [
        "import { v4 as generateId } from 'uuid'\n\nclass DataBase {\n    static instance\n    constructor() {\n        if (!!DataBase.instance) {\n            return DataBase.instance\n        }\n        this.onlineCounter = 0\n        this.users = []\n        this.rooms = []\n        this.queue = []\n        DataBase.instance = this\n    }\n    findUser(nickname) {\n        const findUser = this.users.filter(value => value.nickname === nickname)\n        return findUser.length === 0 ? false : true\n    }\n    addUser(nickname, socketId) {\n        this.users.push({\n            nickname,\n            socketId,\n            roomId: ''\n        })\n    }\n    getUser(socketId) {\n        const findUser = this.users.filter(value => value.socketId === socketId)\n        return findUser.length === 0 ? false : findUser[0]\n    }\n    setRoomIdToUser(nickname, roomId) {\n        this.users.forEach((user, index) => {\n            if (user.nickname === nickname) {\n                this.users[index].roomId = roomId\n            }\n        })        \n    }\n    removeUser(socketId) {\n        this.users.filter((user, index) => {\n            if (user.socketId === socketId) {\n                this.users.splice(index, 1)\n            }\n        })\n    }\n    joinQueue(nickname) {\n        this.queue.push(nickname)\n    }\n    createRoom(nickname) {\n        const structure = {\n            id: generateId(),\n            participants: [nickname]\n        }\n        this.rooms.push(structure)\n        return structure\n    }\n    addParticipantToRoom(roomId, nickname) {\n        this.rooms.forEach((room, index) => {\n            if (room.id === roomId) {\n                this.rooms[index].participants.push(nickname)\n            }\n        })    \n    }\n    removeParticipantToRoom(roomId, nickname) {\n        const roomIndex = this.rooms.findIndex(room => room.id === roomId)\n        if (roomIndex !== -1) {\n            const userIndex = this.rooms[roomIndex].participants.findIndex(user => user === nickname)\n            this.rooms[roomIndex].participants.splice(userIndex, 1)\n        }\n\n    }\n    updateCounter(action) {\n        action === 'plus' ? this.onlineCounter += 1 : this.onlineCounter -=1\n        return this.onlineCounter\n    }\n}\n\nexport default DataBase"
      ]
    },
    "sourceType": "script",
    "mtime": 1628206147477
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/home/juan/Documentos/Projects/chatrandom/server/source/database/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/juan/Documentos/Projects/chatrandom/server\",\"filename\":\"/home/juan/Documentos/Projects/chatrandom/server/source/database/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/juan/Documentos/Projects/chatrandom/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"proposal-private-methods\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/database/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/juan/Documentos/Projects/chatrandom/server",
      "filename": "/home/juan/Documentos/Projects/chatrandom/server/source/database/index.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/home/juan/Documentos/Projects/chatrandom/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "proposal-private-methods",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/juan/Documentos/Projects/chatrandom/server/source/database/index.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/juan/Documentos/Projects/chatrandom/server/source/database/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/database/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _uuid = require(\"uuid\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass DataBase {\n  constructor() {\n    if (!!DataBase.instance) {\n      return DataBase.instance;\n    }\n\n    this.onlineCounter = 0;\n    this.users = [];\n    this.rooms = [];\n    this.queue = [];\n    DataBase.instance = this;\n  }\n\n  findUser(nickname) {\n    const findUser = this.users.filter(value => value.nickname === nickname);\n    return findUser.length === 0 ? false : true;\n  }\n\n  addUser(nickname, socketId) {\n    this.users.push({\n      nickname,\n      socketId,\n      roomId: ''\n    });\n  }\n\n  getUser(socketId) {\n    const findUser = this.users.filter(value => value.socketId === socketId);\n    return findUser.length === 0 ? false : findUser[0];\n  }\n\n  setRoomIdToUser(nickname, roomId) {\n    this.users.forEach((user, index) => {\n      if (user.nickname === nickname) {\n        this.users[index].roomId = roomId;\n      }\n    });\n  }\n\n  removeUser(socketId) {\n    this.users.filter((user, index) => {\n      if (user.socketId === socketId) {\n        this.users.splice(index, 1);\n      }\n    });\n  }\n\n  joinQueue(nickname) {\n    this.queue.push(nickname);\n  }\n\n  createRoom(nickname) {\n    const structure = {\n      id: (0, _uuid.v4)(),\n      participants: [nickname]\n    };\n    this.rooms.push(structure);\n    return structure;\n  }\n\n  addParticipantToRoom(roomId, nickname) {\n    this.rooms.forEach((room, index) => {\n      if (room.id === roomId) {\n        this.rooms[index].participants.push(nickname);\n      }\n    });\n  }\n\n  removeParticipantToRoom(roomId, nickname) {\n    const roomIndex = this.rooms.findIndex(room => room.id === roomId);\n\n    if (roomIndex !== -1) {\n      const userIndex = this.rooms[roomIndex].participants.findIndex(user => user === nickname);\n      this.rooms[roomIndex].participants.splice(userIndex, 1);\n    }\n  }\n\n  updateCounter(action) {\n    action === 'plus' ? this.onlineCounter += 1 : this.onlineCounter -= 1;\n    return this.onlineCounter;\n  }\n\n}\n\n_defineProperty(DataBase, \"instance\", void 0);\n\nvar _default = DataBase;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkRhdGFCYXNlIiwiY29uc3RydWN0b3IiLCJpbnN0YW5jZSIsIm9ubGluZUNvdW50ZXIiLCJ1c2VycyIsInJvb21zIiwicXVldWUiLCJmaW5kVXNlciIsIm5pY2tuYW1lIiwiZmlsdGVyIiwidmFsdWUiLCJsZW5ndGgiLCJhZGRVc2VyIiwic29ja2V0SWQiLCJwdXNoIiwicm9vbUlkIiwiZ2V0VXNlciIsInNldFJvb21JZFRvVXNlciIsImZvckVhY2giLCJ1c2VyIiwiaW5kZXgiLCJyZW1vdmVVc2VyIiwic3BsaWNlIiwiam9pblF1ZXVlIiwiY3JlYXRlUm9vbSIsInN0cnVjdHVyZSIsImlkIiwicGFydGljaXBhbnRzIiwiYWRkUGFydGljaXBhbnRUb1Jvb20iLCJyb29tIiwicmVtb3ZlUGFydGljaXBhbnRUb1Jvb20iLCJyb29tSW5kZXgiLCJmaW5kSW5kZXgiLCJ1c2VySW5kZXgiLCJ1cGRhdGVDb3VudGVyIiwiYWN0aW9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNQSxRQUFOLENBQWU7QUFFWEMsRUFBQUEsV0FBVyxHQUFHO0FBQ1YsUUFBSSxDQUFDLENBQUNELFFBQVEsQ0FBQ0UsUUFBZixFQUF5QjtBQUNyQixhQUFPRixRQUFRLENBQUNFLFFBQWhCO0FBQ0g7O0FBQ0QsU0FBS0MsYUFBTCxHQUFxQixDQUFyQjtBQUNBLFNBQUtDLEtBQUwsR0FBYSxFQUFiO0FBQ0EsU0FBS0MsS0FBTCxHQUFhLEVBQWI7QUFDQSxTQUFLQyxLQUFMLEdBQWEsRUFBYjtBQUNBTixJQUFBQSxRQUFRLENBQUNFLFFBQVQsR0FBb0IsSUFBcEI7QUFDSDs7QUFDREssRUFBQUEsUUFBUSxDQUFDQyxRQUFELEVBQVc7QUFDZixVQUFNRCxRQUFRLEdBQUcsS0FBS0gsS0FBTCxDQUFXSyxNQUFYLENBQWtCQyxLQUFLLElBQUlBLEtBQUssQ0FBQ0YsUUFBTixLQUFtQkEsUUFBOUMsQ0FBakI7QUFDQSxXQUFPRCxRQUFR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RUFBUztBQUNsQkEsSUFBQUEsTUFBTSxLQUFLLE1BQVgsR0FBb0IsS0FBS2hDLGFBQUwsSUFBc0IsQ0FBMUMsR0FBOEMsS0FBS0EsYUFBTCxJQUFxQixDQUFuRTtBQUNBLFdBQU8sS0FBS0EsYUFBWjtBQUNIOztBQXRFVTs7Z0JBQVRILFE7O2VBeUVTQSxRIiwic291cmNlUm9vdCI6Ii9ob21lL2p1YW4vRG9jdW1lbnRvcy9Qcm9qZWN0cy9jaGF0cmFuZG9tL3NlcnZlci9zb3VyY2UvZGF0YWJhc2UvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdjQgYXMgZ2VuZXJhdGVJZCB9IGZyb20gJ3V1aWQnXG5cbmNsYXNzIERhdGFCYXNlIHtcbiAgICBzdGF0aWMgaW5zdGFuY2VcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgaWYgKCEhRGF0YUJhc2UuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBEYXRhQmFzZS5pbnN0YW5jZVxuICAgICAgICB9XG4gICAgICAgIHRoaXMub25saW5lQ291bnRlciA9IDBcbiAgICAgICAgdGhpcy51c2VycyA9IFtdXG4gICAgICAgIHRoaXMucm9vbXMgPSBbXVxuICAgICAgICB0aGlzLnF1ZXVlID0gW11cbiAgICAgICAgRGF0YUJhc2UuaW5zdGFuY2UgPSB0aGlzXG4gICAgfVxuICAgIGZpbmRVc2VyKG5pY2tuYW1lKSB7XG4gICAgICAgIGNvbnN0IGZpbmRVc2VyID0gdGhpcy51c2Vycy5maWx0ZXIodmFsdWUgPT4gdmFsdWUubmlja25hbWUgPT09IG5pY2tuYW1lKVxuICAgICAgICByZXR1cm4gZmluZFVzZXIubGVuZ3RoID09PSAwID8gZmFsc2UgOiB0cnVlXG4gICAgfVxuICAgIGFkZFVzZXIobmlja25hbWUsIHNvY2tldElkKSB7XG4gICAgICAgIHRoaXMudXNlcnMucHVzaCh7XG4gICAgICAgICAgICBuaWNrbmFtZSxcbiAgICAgICAgICAgIHNvY2tldElkLFxuICAgICAgICAgICAgcm9vbUlkOiAnJ1xuICAgICAgICB9KVxuICAgIH1cbiAgICBnZXRVc2VyKHNvY2tldElkKSB7XG4gICAgICAgIGNvbnN0IGZpbmRVc2VyID0gdGhpcy51c2Vycy5maWx0ZXIodmFsdWUgPT4gdmFsdWUuc29ja2V0SWQgPT09IHNvY2tldElkKVxuICAgICAgICByZXR1cm4gZmluZFVzZXIubGVuZ3RoID09PSAwID8gZmFsc2UgOiBmaW5kVXNlclswXVxuICAgIH1cbiAgICBzZXRSb29tSWRUb1VzZXIobmlja25hbWUsIHJvb21JZCkge1xuICAgICAgICB0aGlzLnVzZXJzLmZvckVhY2goKHVzZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAodXNlci5uaWNrbmFtZSA9PT0gbmlja25hbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJzW2luZGV4XS5yb29tSWQgPSByb29tSWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkgICAgICAgIFxuICAgIH1cbiAgICByZW1vdmVVc2VyKHNvY2tldElkKSB7XG4gICAgICAgIHRoaXMudXNlcnMuZmlsdGVyKCh1c2VyLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKHVzZXIuc29ja2V0SWQgPT09IHNvY2tldElkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51c2Vycy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuICAgIGpvaW5RdWV1ZShuaWNrbmFtZSkge1xuICAgICAgICB0aGlzLnF1ZXVlLnB1c2gobmlja25hbWUpXG4gICAgfVxuICAgIGNyZWF0ZVJvb20obmlja25hbWUpIHtcbiAgICAgICAgY29uc3Qgc3RydWN0dXJlID0ge1xuICAgICAgICAgICAgaWQ6IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICAgIHBhcnRpY2lwYW50czogW25pY2tuYW1lXVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucm9vbXMucHVzaChzdHJ1Y3R1cmUpXG4gICAgICAgIHJldHVybiBzdHJ1Y3R1cmVcbiAgICB9XG4gICAgYWRkUGFydGljaXBhbnRUb1Jvb20ocm9vbUlkLCBuaWNrbmFtZSkge1xuICAgICAgICB0aGlzLnJvb21zLmZvckVhY2goKHJvb20sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAocm9vbS5pZCA9PT0gcm9vbUlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb29tc1tpbmRleF0ucGFydGljaXBhbnRzLnB1c2gobmlja25hbWUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pICAgIFxuICAgIH1cbiAgICByZW1vdmVQYXJ0aWNpcGFudFRvUm9vbShyb29tSWQsIG5pY2tuYW1lKSB7XG4gICAgICAgIGNvbnN0IHJvb21JbmRleCA9IHRoaXMucm9vbXMuZmluZEluZGV4KHJvb20gPT4gcm9vbS5pZCA9PT0gcm9vbUlkKVxuICAgICAgICBpZiAocm9vbUluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgY29uc3QgdXNlckluZGV4ID0gdGhpcy5yb29tc1tyb29tSW5kZXhdLnBhcnRpY2lwYW50cy5maW5kSW5kZXgodXNlciA9PiB1c2VyID09PSBuaWNrbmFtZSlcbiAgICAgICAgICAgIHRoaXMucm9vbXNbcm9vbUluZGV4XS5wYXJ0aWNpcGFudHMuc3BsaWNlKHVzZXJJbmRleCwgMSlcbiAgICAgICAgfVxuXG4gICAgfVxuICAgIHVwZGF0ZUNvdW50ZXIoYWN0aW9uKSB7XG4gICAgICAgIGFjdGlvbiA9PT0gJ3BsdXMnID8gdGhpcy5vbmxpbmVDb3VudGVyICs9IDEgOiB0aGlzLm9ubGluZUNvdW50ZXIgLT0xXG4gICAgICAgIHJldHVybiB0aGlzLm9ubGluZUNvdW50ZXJcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERhdGFCYXNlIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "DataBase",
        "constructor",
        "instance",
        "onlineCounter",
        "users",
        "rooms",
        "queue",
        "findUser",
        "nickname",
        "filter",
        "value",
        "length",
        "addUser",
        "socketId",
        "push",
        "roomId",
        "getUser",
        "setRoomIdToUser",
        "forEach",
        "user",
        "index",
        "removeUser",
        "splice",
        "joinQueue",
        "createRoom",
        "structure",
        "id",
        "participants",
        "addParticipantToRoom",
        "room",
        "removeParticipantToRoom",
        "roomIndex",
        "findIndex",
        "userIndex",
        "updateCounter",
        "action"
      ],
      "mappings": "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",
      "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/database/",
      "sourcesContent": [
        "import { v4 as generateId } from 'uuid'\n\nclass DataBase {\n    static instance\n    constructor() {\n        if (!!DataBase.instance) {\n            return DataBase.instance\n        }\n        this.onlineCounter = 0\n        this.users = []\n        this.rooms = []\n        this.queue = []\n        DataBase.instance = this\n    }\n    findUser(nickname) {\n        const findUser = this.users.filter(value => value.nickname === nickname)\n        return findUser.length === 0 ? false : true\n    }\n    addUser(nickname, socketId) {\n        this.users.push({\n            nickname,\n            socketId,\n            roomId: ''\n        })\n    }\n    getUser(socketId) {\n        const findUser = this.users.filter(value => value.socketId === socketId)\n        return findUser.length === 0 ? false : findUser[0]\n    }\n    setRoomIdToUser(nickname, roomId) {\n        this.users.forEach((user, index) => {\n            if (user.nickname === nickname) {\n                this.users[index].roomId = roomId\n            }\n        })        \n    }\n    removeUser(socketId) {\n        this.users.filter((user, index) => {\n            if (user.socketId === socketId) {\n                this.users.splice(index, 1)\n            }\n        })\n    }\n    joinQueue(nickname) {\n        this.queue.push(nickname)\n    }\n    createRoom(nickname) {\n        const structure = {\n            id: generateId(),\n            participants: [nickname]\n        }\n        this.rooms.push(structure)\n        return structure\n    }\n    addParticipantToRoom(roomId, nickname) {\n        this.rooms.forEach((room, index) => {\n            if (room.id === roomId) {\n                this.rooms[index].participants.push(nickname)\n            }\n        })    \n    }\n    removeParticipantToRoom(roomId, nickname) {\n        const roomIndex = this.rooms.findIndex(room => room.id === roomId)\n        if (roomIndex !== -1) {\n            const userIndex = this.rooms[roomIndex].participants.findIndex(user => user === nickname)\n            this.rooms[roomIndex].participants.splice(userIndex, 1)\n        }\n\n    }\n    updateCounter(action) {\n        action === 'plus' ? this.onlineCounter += 1 : this.onlineCounter -=1\n        return this.onlineCounter\n    }\n}\n\nexport default DataBase"
      ]
    },
    "sourceType": "script",
    "mtime": 1628206147477
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/home/juan/Documentos/Projects/chatrandom/server/source/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/juan/Documentos/Projects/chatrandom/server\",\"filename\":\"/home/juan/Documentos/Projects/chatrandom/server/source/config/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/juan/Documentos/Projects/chatrandom/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"proposal-private-methods\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/config/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/juan/Documentos/Projects/chatrandom/server",
      "filename": "/home/juan/Documentos/Projects/chatrandom/server/source/config/index.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/home/juan/Documentos/Projects/chatrandom/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "proposal-private-methods",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/juan/Documentos/Projects/chatrandom/server/source/config/index.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/juan/Documentos/Projects/chatrandom/server/source/config/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/config/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"dotenv/config\");\n\nconst {\n  PORT\n} = process.env;\nconst config = {\n  port: PORT\n};\nvar _default = config;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIlBPUlQiLCJwcm9jZXNzIiwiZW52IiwiY29uZmlnIiwicG9ydCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBLE1BQU87QUFBRUEsRUFBQUE7QUFBRixJQUFXQyxPQUFPLENBQUNDLEdBQTFCO0FBRUEsTUFBTUMsTUFBTSxHQUFHO0FBQ1hDLEVBQUFBLElBQUksRUFBRUo7QUFESyxDQUFmO2VBSWVHLE0iLCJzb3VyY2VSb290IjoiL2hvbWUvanVhbi9Eb2N1bWVudG9zL1Byb2plY3RzL2NoYXRyYW5kb20vc2VydmVyL3NvdXJjZS9jb25maWcvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdkb3RlbnYvY29uZmlnJ1xuXG5jb25zdCAgeyBQT1JUIH0gPSBwcm9jZXNzLmVudlxuXG5jb25zdCBjb25maWcgPSB7XG4gICAgcG9ydDogUE9SVFxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25maWciXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "PORT",
        "process",
        "env",
        "config",
        "port"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA,MAAO;AAAEA,EAAAA;AAAF,IAAWC,OAAO,CAACC,GAA1B;AAEA,MAAMC,MAAM,GAAG;AACXC,EAAAA,IAAI,EAAEJ;AADK,CAAf;eAIeG,M",
      "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/config/",
      "sourcesContent": [
        "import 'dotenv/config'\n\nconst  { PORT } = process.env\n\nconst config = {\n    port: PORT\n}\n\nexport default config"
      ]
    },
    "sourceType": "script",
    "mtime": 1628186572834
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/home/juan/Documentos/Projects/chatrandom/server/source/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/juan/Documentos/Projects/chatrandom/server\",\"filename\":\"/home/juan/Documentos/Projects/chatrandom/server/source/config/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/juan/Documentos/Projects/chatrandom/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"proposal-private-methods\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/config/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/juan/Documentos/Projects/chatrandom/server",
      "filename": "/home/juan/Documentos/Projects/chatrandom/server/source/config/index.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/home/juan/Documentos/Projects/chatrandom/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "proposal-private-methods",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/juan/Documentos/Projects/chatrandom/server/source/config/index.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/juan/Documentos/Projects/chatrandom/server/source/config/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/config/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"dotenv/config\");\n\nconst {\n  PORT\n} = process.env;\nconst config = {\n  port: PORT\n};\nvar _default = config;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIlBPUlQiLCJwcm9jZXNzIiwiZW52IiwiY29uZmlnIiwicG9ydCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBLE1BQU87QUFBRUEsRUFBQUE7QUFBRixJQUFXQyxPQUFPLENBQUNDLEdBQTFCO0FBRUEsTUFBTUMsTUFBTSxHQUFHO0FBQ1hDLEVBQUFBLElBQUksRUFBRUo7QUFESyxDQUFmO2VBSWVHLE0iLCJzb3VyY2VSb290IjoiL2hvbWUvanVhbi9Eb2N1bWVudG9zL1Byb2plY3RzL2NoYXRyYW5kb20vc2VydmVyL3NvdXJjZS9jb25maWcvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdkb3RlbnYvY29uZmlnJ1xuXG5jb25zdCAgeyBQT1JUIH0gPSBwcm9jZXNzLmVudlxuXG5jb25zdCBjb25maWcgPSB7XG4gICAgcG9ydDogUE9SVFxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25maWciXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "PORT",
        "process",
        "env",
        "config",
        "port"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA,MAAO;AAAEA,EAAAA;AAAF,IAAWC,OAAO,CAACC,GAA1B;AAEA,MAAMC,MAAM,GAAG;AACXC,EAAAA,IAAI,EAAEJ;AADK,CAAf;eAIeG,M",
      "sourceRoot": "/home/juan/Documentos/Projects/chatrandom/server/source/config/",
      "sourcesContent": [
        "import 'dotenv/config'\n\nconst  { PORT } = process.env\n\nconst config = {\n    port: PORT\n}\n\nexport default config"
      ]
    },
    "sourceType": "script",
    "mtime": 1628186572834
  }
}